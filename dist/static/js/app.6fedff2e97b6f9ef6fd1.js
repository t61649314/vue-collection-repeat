webpackJsonp([0],{"5iwl":function(t,e){!function(t,e,i){t=t||750,e=e||100,i=i||0;var s=document.documentElement,n=document.querySelector("body");Number(i)?n.style.maxWidth=i/e+"rem":n.style.maxWidth=t/e+"rem",n.style.margin="auto";var a=window.screen.width,o=window.screen.height,l=a>o?o:a,r=window.orientation,h=window.document.createElement("div");h.style.width="1rem",h.style.display="none",window.document.getElementsByTagName("head")[0].appendChild(h);var c=parseFloat(window.getComputedStyle(h,null).getPropertyValue("width"));function d(){n.style.height=s.clientHeight+"px",s.style.fontSize=l/t*e/c*100+"%"}h.remove(),window.onresize=function(){setTimeout(function(){if(void 0===r){var t=window.screen.width;t!=a&&(a=t,d())}else r!=window.orientation&&(r=window.orientation,d())},100)},d(),document.body.classList.remove("vhidden")}(750,100,750)},F3SX:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i("7+uW"),n={name:"CollectionRepeat",props:{list:{type:Array,default:function(){return[]}},margin:{type:Number,default:0}},data:function(){return{minScrollTranslate3dY:0,getHeightDone:!1,lastIndex:0,firstIndex:0,onChangeY:0,itemHeight:0,scrollTranslate3dY:0,showList:[],mList:[],lastMoveStart:0,lastMoveTime:0,stopInertiaMove:!1}},watch:{list:function(t,e){this.mList=t,this.drawList()},scrollTranslate3dY:function(t,e){if(t<e){if(t<this.onChangeY&&this.lastIndex<this.mList.length-1)for(var i=parseInt((this.onChangeY-t)/this.itemHeight),s=0;s<i;s++)this.onChangeY-=this.itemHeight,this.firstIndex++,this.lastIndex++,this.showList.push(this.mList[this.lastIndex]),this.showList.shift()}else if(t<0&&t>this.onChangeY&&this.firstIndex>0)for(var n=parseInt((t-this.onChangeY)/this.itemHeight),a=0;a<n;a++)this.onChangeY+=this.itemHeight,this.firstIndex--,this.lastIndex--,this.showList.unshift(this.mList[this.firstIndex]),this.showList.pop()}},mounted:function(){this.windowHeight=window.innerHeight},methods:{drawList:function(){var t=this;this.getHeightDone=!1,this.$nextTick(function(){var e=t.mList.length;t.itemHeight=t.$refs.hideItem.clientHeight-1+t.margin,t.minScrollTranslate3dY=t.windowHeight-e*t.itemHeight,t.minScrollTranslate3dY=t.minScrollTranslate3dY>0?0:t.minScrollTranslate3dY,t.getHeightDone=!0;var i=parseInt(1.6*t.windowHeight/t.itemHeight),s=e<i?e:i;t.lastIndex=s-1,t.firstIndex=0,t.onChangeY=.3*-t.windowHeight,t.mList=t.mList.map(function(e,i){return{data:e,translate3dY:i*t.itemHeight}}),t.showList=t.mList.slice(0,s)})},touchStart:function(t){this.lastY=t.touches[0].pageY,this.lastMoveStart=this.lastY,this.lastMoveTime=Date.now(),this.stopInertiaMove=!0},touchMove:function(t){var e=t.touches[0].pageY,i=e-this.lastY;i>0&&this.scrollTranslate3dY>0||i<0&&this.scrollTranslate3dY<this.minScrollTranslate3dY?this.scrollTranslate3dY+=i/2:this.scrollTranslate3dY+=i,this.lastY=e;var s=Date.now();this.stopInertiaMove=!0,s-this.lastMoveTime>300&&(this.lastMoveTime=s,this.lastMoveStart=e)},touchEnd:function(t){var e=Date.now();this.stopInertiaMove=!1;var i=e-this.lastMoveTime,s=(this.lastY-this.lastMoveStart)/i;this.scrollTranslate3dY<0&&this.scrollTranslate3dY>this.minScrollTranslate3dY?i<300&&this.inertiaMove(s,e,this.scrollTranslate3dY):this.topScrollBack()},topScrollBack:function(){var t=this;if(!this.stopInertiaMove){var e=this.scrollTranslate3dY>0?0:this.minScrollTranslate3dY,i=.04*(this.scrollTranslate3dY-e),s=this.scrollTranslate3dY-i;this.scrollTranslate3dY=s,Math.round(s)!==e?setTimeout(function(){t.topScrollBack()}):this.scrollTranslate3dY=e}},inertiaMove:function(t,e,i){var s=this,n=Date.now();if(!this.stopInertiaMove){var a=t>0?-1:1,o=n-e,l=t+o*(6e-4*a);if(!(a*l>0)){var r=(t+l)/2*o;this.scrollTranslate3dY=i+r,this.scrollTranslate3dY>0&&this.scrollTranslate3dY>100*l||this.scrollTranslate3dY<this.minScrollTranslate3dY&&this.scrollTranslate3dY-this.minScrollTranslate3dY<100*l?setTimeout(function(){s.topScrollBack()}):setTimeout(function(){s.inertiaMove(t,e,i)},10)}}}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"listContent",staticClass:"collection-repeat-content",on:{touchstart:t.touchStart,touchmove:t.touchMove,touchend:t.touchEnd}},[t.showList.length?i("div",{staticClass:"scroll",style:"transform: translate3d(0px, "+t.scrollTranslate3dY+"px, 0px) scale(1);"},[i("div",{staticClass:"list disable-user-behavior"},t._l(t.showList,function(e,s){return i("div",{staticClass:"item",style:"transform: translate3d(0px, "+e.translate3dY+"px, 0px) scale(1);"},[t._t("default",null,{item:e.data,index:s})],2)}),0)]):t._e(),t._v(" "),t.list.length&&!t.getHeightDone?i("div",{ref:"hideItem",staticClass:"hide-item"},[t._t("default",null,{item:t.list[0]})],2):t._e()])},staticRenderFns:[]};var o={name:"App",components:{CollectionRepeat:i("VU/8")(n,a,!1,function(t){i("F3SX")},"data-v-5e6adb9e",null).exports},data:function(){return{list:[]}},mounted:function(){for(var t=1;t<1e5;t++)this.list.push(t)}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"title"},[t._v("\n    "+t._s(t.list.length)+"Item\n  ")]),t._v(" "),i("div",{staticClass:"collection-box"},[i("CollectionRepeat",{attrs:{list:t.list},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticClass:"my-item"},[t._v("\n          "+t._s(e.item)+"\n        ")])]}}])})],1)])},staticRenderFns:[]};var r=i("VU/8")(o,l,!1,function(t){i("e9xU")},null,null).exports;i("5iwl");s.a.config.productionTip=!1,new s.a({el:"#app",components:{App:r},template:"<App/>"})},e9xU:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.6fedff2e97b6f9ef6fd1.js.map